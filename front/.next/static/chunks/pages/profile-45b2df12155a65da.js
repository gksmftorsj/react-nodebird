(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{5900:function(e,n,r){"use strict";r.d(n,{Z:function(){return P}});var i=r(2640),t=r(7294),a=r(1664),o=r.n(a),l=r(9673),s=r(8985),c=r(1230),d=r(7654),u=r(9521),h=r(9473),x=r(1163),f=r.n(x),j=r(1889),p=r(2925),g=r(4093),m=r(3317),v=r(5893),Z=(0,u.ZP)(j.Z).withConfig({displayName:"UserProfile__ButtonWrapper",componentId:"sc-b71tg5-0"})(["&&&{margin-left:47px;}"]),y=function(){var e=(0,h.I0)(),n=(0,h.v9)(function(e){return e.user}),r=n.me,i=n.logOutLoading,a=(0,t.useCallback)(function(){e((0,m.vR)())},[]);return(0,v.jsxs)(p.Z,{actions:[(0,v.jsx)("div",{children:(0,v.jsx)(o(),{href:"/user/".concat(r.id),legacyBehavior:!0,children:(0,v.jsxs)("a",{children:["짹짹",(0,v.jsx)("br",{}),r.Posts.length]})})},"twit"),(0,v.jsx)("div",{children:(0,v.jsx)(o(),{href:"/profile",legacyBehavior:!0,children:(0,v.jsxs)("a",{children:["팔로잉",(0,v.jsx)("br",{}),r.Followings.length]})})},"followings"),(0,v.jsx)("div",{children:(0,v.jsx)(o(),{href:"/profile",legacyBehavior:!0,children:(0,v.jsxs)("a",{children:["팔로워",(0,v.jsx)("br",{}),r.Followers.length]})})},"followers")],children:[(0,v.jsx)(p.Z.Meta,{avatar:(0,v.jsx)(o(),{href:"/user/".concat(r.id),legacyBehavior:!0,prefetch:!1,children:(0,v.jsx)("a",{children:(0,v.jsx)(g.C,{children:r.nickname[0]})})}),title:r.nickname}),(0,v.jsx)(Z,{onClick:a,loading:i,children:"로그아웃"})]})},k=r(4538),C=r(2485),b=u.ZP.div.withConfig({displayName:"LoginForm__ButtonWrapper",componentId:"sc-k4bay5-0"})(["margin-top:10px;"]),w=(0,u.ZP)(k.Z).withConfig({displayName:"LoginForm__FormWrapper",componentId:"sc-k4bay5-1"})(["&&&{padding:10px;}"]),_=function(){var e=(0,h.I0)(),n=(0,h.v9)(function(e){return e.user}),r=n.logInLoading,a=n.logInError,s=(0,C.Z)(""),c=(0,i.Z)(s,2),d=c[0],u=c[1],x=(0,C.Z)(""),f=(0,i.Z)(x,2),p=f[0],g=f[1];(0,t.useEffect)(function(){a&&alert(a)},[a]);var Z=(0,t.useCallback)(function(){e((0,m.tP)({email:d,password:p}))},[d,p]);return(0,v.jsxs)(w,{onFinish:Z,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"user-email",children:"이메일"}),(0,v.jsx)(l.Z,{name:"user-email",value:d,onChange:u,required:!0,type:"email"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"user-password",required:!0,children:"비밀번호"}),(0,v.jsx)(l.Z,{name:"user-password",value:p,onChange:g,type:"password"})]}),(0,v.jsxs)(b,{children:[(0,v.jsx)(j.Z,{type:"primary",htmlType:"submit",loading:r,children:"로그인"}),(0,v.jsx)(o(),{href:"/signup",legacyBehavior:!0,children:(0,v.jsx)("a",{children:(0,v.jsx)(j.Z,{children:"회원가입"})})})]})]})},B=(0,u.ZP)(l.Z.Search).withConfig({displayName:"AppLayout__SearchInput",componentId:"sc-1x6xxdo-0"})(["&&&{vertical-align:middle;}"]),I=(0,u.vJ)([".ant-row{margin-right:0 !important;margin-left:0 !important;}.ant-col:first-child{padding-left:0 !important;}.ant-col:last-child{padding-right:0 !important;}"]),P=function(e){var n=e.children,r=(0,C.Z)(""),a=(0,i.Z)(r,2),l=a[0],u=a[1],x=(0,h.v9)(function(e){return e.user}).me,j=(0,t.useCallback)(function(){f().push("/hashtag/".concat(l))},[l]),p=[{label:(0,v.jsx)(o(),{href:"/",legacyBehavior:!0,children:(0,v.jsx)("a",{children:"노드버드"})}),key:"/"},{label:x&&(0,v.jsx)(o(),{href:"/profile",legacyBehavior:!0,children:(0,v.jsx)("a",{children:"프로필"})}),key:"/profile"},{label:(0,v.jsx)(B,{enterButton:!0,value:l,onChange:u,onSearch:j}),key:"/search"}];return(0,v.jsxs)("div",{children:[(0,v.jsx)(I,{}),(0,v.jsx)(s.Z,{mode:"horizontal",items:p}),(0,v.jsxs)(c.Z,{gutter:8,children:[(0,v.jsx)(d.Z,{xs:24,md:6,children:x?(0,v.jsx)(y,{}):(0,v.jsx)(_,{})}),(0,v.jsx)(d.Z,{xs:24,md:12,children:n}),(0,v.jsx)(d.Z,{xs:24,md:6,children:(0,v.jsx)("a",{href:"https://www.zerocho.com",target:"_blank",rel:"noreferrer noopener",children:"Made by ZeroCho"})})]})]})}},2485:function(e,n,r){"use strict";var i=r(7294);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=(0,i.useState)(e),r=n[0],t=n[1];return[r,(0,i.useCallback)(function(e){t(e.target.value)},[]),t]}},2471:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSP:function(){return w},default:function(){return _}});var i=r(7294),t=r(9008),a=r.n(t),o=r(5900),l=r(9473),s=r(1163),c=r.n(s),d=r(6154),u=r(9734),h=r(2506),x=r(1889),f=r(2925),j=r(7784),p=r(3317),g=r(5893),m=function(e){var n=e.header,r=e.data,t=e.onClickMore,a=e.loading,o=(0,l.I0)(),s=(0,i.useCallback)(function(e){return function(){"팔로잉"===n&&o({type:p.Bk,data:e}),o({type:p.IB,data:e})}},[]);return(0,g.jsx)(h.ZP,{style:{marginBottom:20},grid:{gutter:4,xs:2,md:3},size:"small",header:(0,g.jsx)("div",{children:n}),loadMore:(0,g.jsx)("div",{style:{textAlign:"center",margin:"10px 0"},children:(0,g.jsx)(x.Z,{onClick:t,loading:a,children:"더 보기"})}),bordered:!0,dataSource:r,renderItem:function(e){return(0,g.jsx)(h.ZP.Item,{style:{marginTop:20},children:(0,g.jsx)(f.Z,{actions:[(0,g.jsx)(j.Z,{onClick:s(e.id)},"stop")],children:(0,g.jsx)(f.Z.Meta,{description:e.nickname})})})}})},v=r(2640),Z=r(4538),y=r(9673),k=r(2485),C=function(){var e=(0,l.v9)(function(e){return e.user}).me,n=(0,k.Z)((null==e?void 0:e.nickname)||""),r=(0,v.Z)(n,2),t=r[0],a=r[1],o=(0,l.I0)(),s=(0,i.useCallback)(function(){o({type:p.o,data:t})},[t]),c=(0,i.useMemo)(function(){return{marginBottom:"20px",border:"1px solid #d9d9d9",padding:"20px"}},[]);return(0,g.jsx)(Z.Z,{style:c,children:(0,g.jsx)(y.Z.Search,{value:t,onChange:a,addonBefore:"닉네임",enterButton:"수정",onSearch:s})})};r(1586);var b=r(7463),w=!0,_=function(){(0,l.I0)();var e=(0,l.v9)(function(e){return e.user}).me,n=(0,i.useState)(3),r=n[0],t=n[1],s=(0,i.useState)(3),h=s[0],x=s[1],f=function(e){return d.Z.get(e,{withCredentials:!0}).then(function(e){return e.data})},j=(0,u.ZP)("".concat(b.y,"/user/followers?limit=").concat(r),f),p=j.data,v=j.error,Z=(0,u.ZP)("".concat(b.y,"/user/followings?limit=").concat(h),f),y=Z.data,k=Z.error;(0,i.useEffect)(function(){e&&e.id||c().push("/")},[e&&e.id]);var w=(0,i.useCallback)(function(){x(function(e){return e+3})},[]),_=(0,i.useCallback)(function(){t(function(e){return e+3})},[]);return e?v||k?(console.error(v||k),(0,g.jsx)("div",{children:'"팔로잉/팔로워 로딩 중 에러가 발생합니다."'})):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(a(),{children:[(0,g.jsx)("meta",{charSet:"utf-8"}),(0,g.jsx)("title",{children:"내 프로필 | NodeBird"})]}),(0,g.jsxs)(o.Z,{children:[(0,g.jsx)(C,{}),(0,g.jsx)(m,{header:"팔로잉",data:y,onClickMore:w,loading:!y&&!k}),(0,g.jsx)(m,{header:"팔로워",data:p,onClickMore:_,loading:!p&&!v})]})]}):"내 정보 로딩중..."}},9344:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return r(2471)}])}},function(e){e.O(0,[337,913,752,774,888,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);