{"version":3,"file":"static/chunks/pages/post/[id]-fc2c424344e6cc2a.js","mappings":"mOAqFAA,CAAAA,EAAA,QAvEa,UAAM,CAEjB,IAAQC,EAAOC,CADAC,EAAAA,EAAAA,SAAAA,IACOC,KAAtB,CAAQH,EAAR,CACQI,EAARC,CAAuBC,EAAAA,EAAAA,EAAAA,EAAY,SAACC,CAAD,SAAWA,EAAMC,IAAjB,GAA3BJ,UAAR,CAMA,MACE,GAAAK,EAAAC,IAAA,EAACC,EAAAC,CAAD,EAAAC,SAAA,CACE,GAAAJ,EAAAC,IAAA,EAACI,IAAD,CAAAD,SAAA,CACE,GAAAJ,EAAAC,IAAA,WAAAG,SAAA,CACGT,EAAWW,IAAX,CAAgBC,QADnB,WAKA,GAAAP,EAAAQ,GAAA,UAAMC,KAAK,cAAcC,QAASf,EAAWe,OAAAA,GAC7C,GAAAV,EAAAQ,GAAA,UACEG,SAAS,WACTD,QAAO,GAAAE,MAAA,CAAKjB,EAAWW,IAAX,CAAgBC,QAArB,UAFT,GAIA,GAAAP,EAAAQ,GAAA,UAAMG,SAAS,iBAAiBD,QAASf,EAAWe,OAAAA,GACpD,GAAAV,EAAAQ,GAAA,UACEG,SAAS,WACTD,QACEf,EAAWkB,MAAX,CAAkB,EAAlB,CACIlB,EAAWkB,MAAX,CAAkB,EAAlB,CAAqBC,GADzB,CAEI,sCAGR,GAAAd,EAAAQ,GAAA,UAAMG,SAAS,SAASD,QAAO,8BAAAE,MAAA,CAAgCrB,EAA/D,GApBF,GAsBA,GAAAS,EAAAQ,GAAA,EAACO,EAAAZ,CAAD,EAAUJ,KAAMJ,CAAhB,GAvBF,EA0BH,wBCjDD,CAAAqB,OAAAC,QAAA,CAAAD,OAAAC,QAAA,MAAAC,IAAA,EACA,aACA,WACA,OAAeC,EAAQ,KACvB,EACA","sources":["webpack://_N_E/./pages/post/[id].js","webpack://_N_E/","webpack://_N_E/<anon>"],"sourcesContent":["import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useRouter } from \"next/router\";\r\nimport axios from \"axios\";\r\nimport { END } from \"redux-saga\";\r\nimport Head from \"next/head\";\r\n\r\nimport wrapper from \"../../store/configureStore\";\r\nimport AppLayout from \"../../components/AppLayout\";\r\nimport PostCard from \"../../components/PostCard\";\r\nimport { LOAD_MY_INFO_REQUEST } from \"../../reducers/user\";\r\nimport { LOAD_POST_REQUEST } from \"../../reducers/post\";\r\n\r\n// 다이나믹 라우팅을 통해 동적 라우팅\r\nconst Post = () => {\r\n  const router = useRouter();\r\n  const { id } = router.query;\r\n  const { singlePost } = useSelector((state) => state.post);\r\n\r\n  // if (router.isFallback) {\r\n  //   return <div>Loading...</div>\r\n  // }\r\n\r\n  return (\r\n    <AppLayout>\r\n      <Head>\r\n        <title>\r\n          {singlePost.User.nickname}\r\n          님의 글\r\n        </title>\r\n        {/* og -> 카톡, 페북 등 미리보기 할 때 보여지는 요소들 */}\r\n        <meta name=\"description\" content={singlePost.content} />\r\n        <meta\r\n          property=\"og:title\"\r\n          content={`${singlePost.User.nickname}님의 게시글`}\r\n        />\r\n        <meta property=\"og:description\" content={singlePost.content} />\r\n        <meta\r\n          property=\"og:image\"\r\n          content={\r\n            singlePost.Images[0]\r\n              ? singlePost.Images[0].src\r\n              : \"https://nodebird.shop/favicon.ico\"\r\n          }\r\n        />\r\n        <meta property=\"og:url\" content={`https://nodebird.shop/post/${id}`} />\r\n      </Head>\r\n      <PostCard post={singlePost} />\r\n    </AppLayout>\r\n  );\r\n};\r\n\r\n// params.id === context.params.id\r\n// export async function getStaticPaths() {\r\n//   return {\r\n//     paths: [\r\n//       { params: { id: '1' } },\r\n//       { params: { id: '2' } },\r\n//       { params: { id: '3' } },\r\n//       { params: { id: '4' } },\r\n//     ],\r\n//     fallback: true,\r\n//   };\r\n// }\r\n\r\nexport const getServerSideProps = wrapper.getServerSideProps(\r\n  async (context) => {\r\n    const cookie = context.req ? context.req.headers.cookie : \"\";\r\n    axios.defaults.headers.Cookie = \"\";\r\n    if (cookie) {\r\n      axios.defaults.headers.Cookie = cookie;\r\n    }\r\n    context.store.dispatch({\r\n      type: LOAD_MY_INFO_REQUEST,\r\n    });\r\n    context.store.dispatch({\r\n      type: LOAD_POST_REQUEST,\r\n      // context.params.id or context.query.id하면 useRouter에 똑같이 접근가능함\r\n      data: context.params.id,\r\n    });\r\n    context.store.dispatch(END);\r\n    await context.store.sagaTask.toPromise();\r\n  }\r\n);\r\n\r\nexport default Post;\r\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/post/[id]\",\n      function () {\n        return require(\"private-next-pages/post/[id].js\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/post/[id]\"])\n      });\n    }\n  "],"names":["__webpack_exports__","id","router","useRouter","query","singlePost","_useSelector","useSelector","state","post","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__","jsxs","_components_AppLayout__WEBPACK_IMPORTED_MODULE_4__","Z","children","next_head__WEBPACK_IMPORTED_MODULE_3___default","User","nickname","jsx","name","content","property","concat","Images","src","_components_PostCard__WEBPACK_IMPORTED_MODULE_5__","window","__NEXT_P","push","__webpack_require__"],"sourceRoot":""}