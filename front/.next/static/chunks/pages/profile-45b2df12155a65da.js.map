{"version":3,"file":"static/chunks/pages/profile-45b2df12155a65da.js","mappings":"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","sources":["webpack://_N_E/./components/UserProfile.js","webpack://_N_E/./components/LoginForm.js","webpack://_N_E/./components/AppLayout.js","webpack://_N_E/./hooks/useInput.js","webpack://_N_E/./components/FollowList.js","webpack://_N_E/./components/NicknameEditForm.js","webpack://_N_E/./pages/profile.js","webpack://_N_E/?05ee","webpack://_N_E/<anon>"],"sourcesContent":["import React, { useCallback } from \"react\";\r\nimport { Avatar, Card, Button } from \"antd\";\r\nimport styled from \"styled-components\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { logoutRequestAction } from \"../reducers/user\";\r\nimport Link from \"next/link\";\r\n\r\nconst ButtonWrapper = styled(Button)`\r\n  &&& {\r\n    margin-left: 47px;\r\n  }\r\n`;\r\n\r\nconst UserProfile = () => {\r\n  const dispatch = useDispatch();\r\n  const { me, logOutLoading } = useSelector((state) => state.user);\r\n  const onLogOut = useCallback(() => {\r\n    dispatch(logoutRequestAction());\r\n  }, []);\r\n\r\n  return (\r\n    <Card\r\n      actions={[\r\n        <div key=\"twit\">\r\n          <Link href={`/user/${me.id}`} legacyBehavior>\r\n            <a>\r\n              짹짹\r\n              <br />\r\n              {me.Posts.length}\r\n            </a>\r\n          </Link>\r\n        </div>,\r\n        <div key=\"followings\">\r\n          <Link href={`/profile`} legacyBehavior>\r\n            <a>\r\n              팔로잉\r\n              <br />\r\n              {me.Followings.length}\r\n            </a>\r\n          </Link>\r\n        </div>,\r\n        <div key=\"followers\">\r\n          <Link href={`/profile`} legacyBehavior>\r\n            <a>\r\n              팔로워\r\n              <br />\r\n              {me.Followers.length}\r\n            </a>\r\n          </Link>\r\n        </div>,\r\n      ]}\r\n    >\r\n      <Card.Meta\r\n        avatar={\r\n          <Link href={`/user/${me.id}`} legacyBehavior prefetch={false}>\r\n            <a>\r\n              <Avatar>{me.nickname[0]}</Avatar>\r\n            </a>\r\n          </Link>\r\n        }\r\n        title={me.nickname}\r\n      />\r\n      <ButtonWrapper onClick={onLogOut} loading={logOutLoading}>\r\n        로그아웃\r\n      </ButtonWrapper>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, { useEffect, useCallback } from \"react\";\r\nimport { Form, Input, Button } from \"antd\";\r\nimport Link from \"next/link\";\r\nimport styled from \"styled-components\";\r\nimport useInput from \"../hooks/useInput\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport { loginRequestAction } from \"../reducers/user\";\r\n\r\nconst ButtonWrapper = styled.div`\r\n  margin-top: 10px;\r\n`;\r\n\r\nconst FormWrapper = styled(Form)`\r\n  &&& {\r\n    padding: 10px;\r\n  }\r\n`;\r\n\r\nconst LoginForm = () => {\r\n  const dispatch = useDispatch();\r\n  const { logInLoading, logInError } = useSelector((state) => state.user);\r\n  const [email, onChangeEmail] = useInput(\"\");\r\n  const [password, onChangePassword] = useInput(\"\");\r\n\r\n  useEffect(() => {\r\n    if (logInError) {\r\n      alert(logInError);\r\n    }\r\n  }, [logInError]);\r\n\r\n  const onSubmitForm = useCallback(() => {\r\n    // 1번 dispatch({ type: LOG_IN_REQUEST, data }) -> 해당 타입의 reducer와 saga가 실행됨\r\n    dispatch(loginRequestAction({ email, password }));\r\n  }, [email, password]);\r\n\r\n  return (\r\n    // onFinish에 이미 preventDefault가 적용 되어있음\r\n    // Form을 제출할 때 onFinish가 호출됨\r\n    <FormWrapper onFinish={onSubmitForm}>\r\n      <div>\r\n        <label htmlFor=\"user-email\">이메일</label>\r\n        <Input\r\n          name=\"user-email\"\r\n          value={email}\r\n          onChange={onChangeEmail}\r\n          required\r\n          type=\"email\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <label htmlFor=\"user-password\" required>\r\n          비밀번호\r\n        </label>\r\n        <Input\r\n          name=\"user-password\"\r\n          value={password}\r\n          onChange={onChangePassword}\r\n          type=\"password\"\r\n        />\r\n      </div>\r\n      <ButtonWrapper>\r\n        {/* 1번 */}\r\n        <Button type=\"primary\" htmlType=\"submit\" loading={logInLoading}>\r\n          로그인\r\n        </Button>\r\n        <Link href=\"/signup\" legacyBehavior>\r\n          <a>\r\n            <Button>회원가입</Button>\r\n          </a>\r\n        </Link>\r\n      </ButtonWrapper>\r\n    </FormWrapper>\r\n  );\r\n};\r\n\r\nexport default LoginForm;\r\n","import React, { useCallback } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Link from \"next/link\";\r\nimport { Menu, Input, Row, Col } from \"antd\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { createGlobalStyle } from \"styled-components\";\r\nimport Router from \"next/router\";\r\n\r\nimport UserProfile from \"../components/UserProfile\";\r\nimport LoginForm from \"../components/LoginForm\";\r\nimport useInput from \"../hooks/useInput\";\r\n\r\nconst SearchInput = styled(Input.Search)`\r\n  &&& {\r\n    vertical-align: middle;\r\n  }\r\n`;\r\n\r\nconst Global = createGlobalStyle`\r\n  .ant-row {\r\n    margin-right: 0 !important;\r\n    margin-left: 0 !important;\r\n  }\r\n  \r\n  .ant-col:first-child {\r\n      padding-left: 0 !important;\r\n  }\r\n  \r\n  .ant-col:last-child {\r\n    padding-right: 0 !important;\r\n  }\r\n`;\r\n\r\nconst AppLayout = ({ children }) => {\r\n  const [searchInput, onChangeSearchInput] = useInput(\"\");\r\n  const { me } = useSelector((state) => state.user);\r\n\r\n  const onSearch = useCallback(() => {\r\n    Router.push(`/hashtag/${searchInput}`);\r\n  }, [searchInput]);\r\n\r\n  const items = [\r\n    {\r\n      label: (\r\n        // next 13 버전 이후로부터는 Link 태그 속에 a 태그 넣지 않아야 정상 작동 합니다.\r\n        // 만약 꼭 Link 속에 a 태그를 넣어야 한다 -> link 에 legacyBehavior 넣으면 됩니다.\r\n        <Link href=\"/\" legacyBehavior>\r\n          <a>노드버드</a>\r\n        </Link>\r\n      ),\r\n      key: \"/\",\r\n    },\r\n    {\r\n      label: me && (\r\n        <Link href=\"/profile\" legacyBehavior>\r\n          <a>프로필</a>\r\n        </Link>\r\n      ),\r\n      key: \"/profile\",\r\n    },\r\n    {\r\n      label: (\r\n        <SearchInput\r\n          enterButton\r\n          value={searchInput}\r\n          onChange={onChangeSearchInput}\r\n          // enter를 누르면 onSearch가 실행됨\r\n          onSearch={onSearch}\r\n        />\r\n      ),\r\n      key: \"/search\",\r\n    },\r\n    // {\r\n    //   label: !me && (\r\n    //     <Link href=\"/signup\" legacyBehavior>\r\n    //       <a>회원가입</a>\r\n    //     </Link>\r\n    //   ),\r\n    //   key: \"/signup\",\r\n    // },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Global />\r\n      {/* // 공통 메뉴를 나타내는 div */}\r\n      <Menu mode=\"horizontal\" items={items} />\r\n      {/* // AppLayout 컴포넌트의 자식 컴포넌트들을 렌더링하는 부분 */}\r\n      {/* 즉 <AppLayout>{children}</AppLayout>이 된다는 뜻이다 */}\r\n      <Row gutter={8}>\r\n        <Col xs={24} md={6}>\r\n          {/* 7번 */}\r\n          {me ? <UserProfile /> : <LoginForm />}\r\n        </Col>\r\n        <Col xs={24} md={12}>\r\n          {children}\r\n        </Col>\r\n        <Col xs={24} md={6}>\r\n          <a\r\n            href=\"https://www.zerocho.com\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer noopener\"\r\n          >\r\n            Made by ZeroCho\r\n          </a>\r\n        </Col>\r\n      </Row>\r\n    </div>\r\n  );\r\n};\r\n\r\n// AppLayout 컴포넌트의 props 검증\r\nAppLayout.propTypes = {\r\n  // children prop은 노드 타입이며 필수값임\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default AppLayout;\r\n","import { useState, useCallback } from \"react\";\r\n\r\n// initialValue가 주어지지 않으면 null로 초기화\r\nexport default (initialValue = null) => {\r\n  // value와 setValue를 useState 훅으로 생성\r\n  const [value, setValue] = useState(initialValue);\r\n  // handler 함수를 useCallback 훅으로 생성\r\n  const handler = useCallback((e) => {\r\n    // e.target.value를 value로 설정\r\n    setValue(e.target.value);\r\n  }, []);\r\n  // value와 handler를 배열로 반환\r\n  return [value, handler, setValue];\r\n};\r\n","import React, { useMemo, useCallback } from \"react\";\r\nimport { List, Button, Card } from \"antd\";\r\nimport { StopOutlined } from \"@ant-design/icons\";\r\nimport { PropTypes } from \"prop-types\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { UNFOLLOW_REQUEST, REMOVE_FOLLOWER_REQUEST } from \"../reducers/user\";\r\n\r\nconst FollowList = ({ header, data, onClickMore, loading }) => {\r\n  const dispatch = useDispatch();\r\n  // 고차함수를 활용해서 이벤트리스너의 핸들러를 반환하여 클릭 이벤트 없이도 함수가 실행되는 것을 방지하도록 해야 함\r\n  const onCancel = useCallback(\r\n    (id) => () => {\r\n      if (header === \"팔로잉\") {\r\n        dispatch({\r\n          type: UNFOLLOW_REQUEST,\r\n          data: id,\r\n        });\r\n      }\r\n      dispatch({\r\n        type: REMOVE_FOLLOWER_REQUEST,\r\n        data: id,\r\n      });\r\n    },\r\n    []\r\n  );\r\n\r\n  return (\r\n    <List\r\n      style={{ marginBottom: 20 }}\r\n      grid={{ gutter: 4, xs: 2, md: 3 }}\r\n      size=\"small\"\r\n      // 문자열은 원시값이라 항상 같기 때문에 최적화 필요X\r\n      header={<div>{header}</div>}\r\n      loadMore={\r\n        <div style={{ textAlign: \"center\", margin: \"10px 0\" }}>\r\n          <Button onClick={onClickMore} loading={loading}>\r\n            더 보기\r\n          </Button>\r\n        </div>\r\n      }\r\n      bordered\r\n      dataSource={data}\r\n      // data의 각각의 값들이 item이 됨 -> data.map(()=>{}) === renderItem={()=>{}}\r\n      renderItem={(item) => (\r\n        <List.Item style={{ marginTop: 20 }}>\r\n          <Card\r\n            // onClick 핸들러로 감싸서 전달하지 않으면 클릭 이벤트 없이도 해당 함수가 실행됨\r\n            // 바로 실행 되는거 막으려면 onClick={()=>{onCancel(item.id)}} 이렇게 감싸서 전달하던가 고차함수를 사용해야 함\r\n            // 아... ()붙이면 함수 바로 실행돼서 그런거임...\r\n            actions={[<StopOutlined key=\"stop\" onClick={onCancel(item.id)} />]}\r\n          >\r\n            <Card.Meta description={item.nickname} />\r\n          </Card>\r\n        </List.Item>\r\n      )}\r\n    ></List>\r\n  );\r\n};\r\n\r\nFollowList.propTypes = {\r\n  header: PropTypes.string.isRequired,\r\n  data: PropTypes.array.isRequired,\r\n  onClickMore: PropTypes.func.isRequired,\r\n  loading: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default FollowList;\r\n","import { Form, Input } from \"antd\";\r\nimport React, { useMemo, useCallback } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nimport useInput from \"../hooks/useInput\";\r\nimport { CHANGE_NICKNAME_REQUEST } from \"../reducers/user\";\r\n\r\nconst NicknameEditForm = () => {\r\n  const { me } = useSelector((state) => state.user);\r\n  // ??도 있음 ??는 null or undefined일 경우에만 우항에 있는 값이 됨\r\n  // me?.nickname 값이 없으면 undefined 즉 falsy한 값이니까 nickname의 값은 \"\"값이 됨\r\n  const [nickname, onChangeNickname] = useInput(me?.nickname || \"\");\r\n  const dispatch = useDispatch();\r\n  const onSubmit = useCallback(() => {\r\n    dispatch({\r\n      type: CHANGE_NICKNAME_REQUEST,\r\n      data: nickname,\r\n    });\r\n  }, [nickname]);\r\n\r\n  const style = useMemo(\r\n    () => ({\r\n      marginBottom: \"20px\",\r\n      border: \"1px solid #d9d9d9\",\r\n      padding: \"20px\",\r\n    }),\r\n    []\r\n  );\r\n\r\n  return (\r\n    <Form style={style}>\r\n      <Input.Search\r\n        value={nickname}\r\n        onChange={onChangeNickname}\r\n        addonBefore=\"닉네임\"\r\n        enterButton=\"수정\"\r\n        onSearch={onSubmit}\r\n      />\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default NicknameEditForm;\r\n","import React, { useEffect, useState, useCallback } from \"react\";\r\nimport Head from \"next/head\";\r\nimport AppLayout from \"./../components/AppLayout\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Router from \"next/router\";\r\nimport { END } from \"redux-saga\";\r\nimport axios from \"axios\";\r\nimport useSWR from \"swr\";\r\n\r\nimport FollowList from \"../components/FollowList\";\r\nimport NicknameEditForm from \"./../components/NicknameEditForm\";\r\nimport {\r\n  LOAD_FOLLOWERS_REQUEST,\r\n  LOAD_FOLLOWINGS_REQUEST,\r\n  LOAD_MY_INFO_REQUEST,\r\n} from \"../reducers/user\";\r\nimport { LOAD_POSTS_REQUEST } from \"../reducers/post\";\r\nimport wrapper from \"../store/configureStore\";\r\nimport { backURL } from \"../config/config\";\r\n\r\nconst Profile = () => {\r\n  const dispatch = useDispatch();\r\n  const { me } = useSelector((state) => state.user);\r\n  const [followersLimit, setFollowersLimit] = useState(3);\r\n  const [followingsLimit, setFollowingsLimit] = useState(3);\r\n\r\n  // saga에서 action생성 대신에 사용\r\n  const fetcher = (url) =>\r\n    axios.get(url, { withCredentials: true }).then((result) => result.data);\r\n\r\n  // fetcher => 이 주소를 어떻게 실제로 가져올지에 대해 적어주는 것\r\n  // 이렇게 하면 알아서 data와 error에 값이 들어가 있음, 둘 다 없으면 로딩중\r\n  const { data: followersData, error: followerError } = useSWR(\r\n    `${backURL}/user/followers?limit=${followersLimit}`,\r\n    fetcher\r\n  );\r\n  const { data: followingsData, error: followingError } = useSWR(\r\n    `${backURL}/user/followings?limit=${followingsLimit}`,\r\n    fetcher\r\n  );\r\n\r\n  // hooks는 모두 실행되어야 함 -> 안그러면 에러발생함 -> 그래서 return은 항상 hooks보다 아래에 있어야 함\r\n  useEffect(() => {\r\n    // 더 명확하게 표현하기 위해 me.id도 조건에 추가\r\n    // falsy -> false, 0, -0, NaN, null, undefined, \"\"(빈 문자열)\r\n    // so state에 user값이 없으면 me는 null이기 때문에 falsy한 값이 됨 -> false\r\n    if (!(me && me.id)) {\r\n      Router.push(\"/\");\r\n    }\r\n  }, [me && me.id]);\r\n\r\n  const loadMoreFollowings = useCallback(() => {\r\n    setFollowingsLimit((prev) => prev + 3);\r\n  }, []);\r\n\r\n  const loadMoreFollowers = useCallback(() => {\r\n    setFollowersLimit((prev) => prev + 3);\r\n  }, []);\r\n\r\n  //  me 객체가 존재하지 않을 경우 null을 반환하여 렌더링되지 않도록 하기\r\n  if (!me) {\r\n    return \"내 정보 로딩중...\";\r\n  }\r\n\r\n  if (followerError || followingError) {\r\n    console.error(followerError || followingError);\r\n    return <div>\"팔로잉/팔로워 로딩 중 에러가 발생합니다.\"</div>;\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   dispatch({\r\n  //     type: LOAD_FOLLOWERS_REQUEST,\r\n  //   });\r\n  //   dispatch({\r\n  //     type: LOAD_FOLLOWINGS_REQUEST,\r\n  //   });\r\n  // }, []);\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>내 프로필 | NodeBird</title>\r\n      </Head>\r\n      <AppLayout>\r\n        <NicknameEditForm />\r\n        <FollowList\r\n          header=\"팔로잉\"\r\n          data={followingsData}\r\n          onClickMore={loadMoreFollowings}\r\n          loading={!followingsData && !followingError}\r\n        />\r\n        <FollowList\r\n          header=\"팔로워\"\r\n          data={followersData}\r\n          onClickMore={loadMoreFollowers}\r\n          loading={!followersData && !followerError}\r\n        />\r\n      </AppLayout>\r\n    </>\r\n  );\r\n};\r\n\r\nexport const getServerSideProps = wrapper.getServerSideProps(\r\n  async (context) => {\r\n    console.log(\"getServerSideProps start\");\r\n    console.log(context.req.headers);\r\n    const cookie = context.req ? context.req.headers.cookie : \"\";\r\n    axios.defaults.headers.Cookie = \"\";\r\n    if (context.req && cookie) {\r\n      axios.defaults.headers.Cookie = cookie;\r\n    }\r\n    context.store.dispatch({\r\n      type: LOAD_MY_INFO_REQUEST,\r\n    });\r\n    context.store.dispatch(END);\r\n    console.log(\"getServerSideProps end\");\r\n    await context.store.sagaTask.toPromise();\r\n  }\r\n);\r\n\r\nexport default Profile;\r\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/profile\",\n      function () {\n        return require(\"private-next-pages/profile.js\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/profile\"])\n      });\n    }\n  "],"names":["ButtonWrapper","styled","Button","withConfig","displayName","componentId","components_UserProfile","dispatch","useDispatch","_useSelector","useSelector","state","user","me","logOutLoading","onLogOut","useCallback","logoutRequestAction","jsx_runtime","jsxs","card","Z","actions","jsx","children","link_default","href","concat","id","legacyBehavior","Posts","length","Followings","Followers","Meta","avatar","prefetch","C","nickname","title","onClick","loading","FormWrapper","Form","components_LoginForm","logInLoading","logInError","_useInput","useInput","_useInput2","slicedToArray","email","onChangeEmail","_useInput3","_useInput4","password","onChangePassword","useEffect","alert","onSubmitForm","loginRequestAction","onFinish","htmlFor","input","name","value","onChange","required","type","LoginForm_ButtonWrapper","es_button","htmlType","SearchInput","Input","Global","createGlobalStyle","components_AppLayout","_ref","searchInput","onChangeSearchInput","onSearch","Router","items","label","key","enterButton","menu","mode","row","gutter","col","xs","md","target","rel","__webpack_exports__","initialValue","arguments","undefined","_useState","useState","setValue","e","components_FollowList","header","data","onClickMore","onCancel","UNFOLLOW_REQUEST","REMOVE_FOLLOWER_REQUEST","list","ZP","style","marginBottom","grid","size","loadMore","textAlign","margin","bordered","dataSource","renderItem","item","Item","marginTop","StopOutlined","description","components_NicknameEditForm","onChangeNickname","onSubmit","CHANGE_NICKNAME_REQUEST","useMemo","border","padding","es_form","Search","addonBefore","profile","followersLimit","setFollowersLimit","_useState2","followingsLimit","setFollowingsLimit","fetcher","url","axios","withCredentials","then","result","_useSWR","useSWR","backURL","followersData","followerError","error","_useSWR2","followingsData","followingError","loadMoreFollowings","prev","loadMoreFollowers","console","Fragment","head_default","charSet","AppLayout","window","__NEXT_P","push","__webpack_require__"],"sourceRoot":""}