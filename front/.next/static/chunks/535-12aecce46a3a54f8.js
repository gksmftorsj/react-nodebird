"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[535],{5900:function(e,n,i){i.d(n,{Z:function(){return B}});var t=i(2640),r=i(7294),s=i(1664),a=i.n(s),o=i(9673),l=i(8985),c=i(1230),d=i(7654),h=i(9521),u=i(9473),x=i(1163),p=i.n(x),g=i(1889),m=i(2925),j=i(4093),f=i(3317),v=i(5893),y=(0,h.ZP)(g.Z).withConfig({displayName:"UserProfile__ButtonWrapper",componentId:"sc-b71tg5-0"})(["&&&{margin-left:47px;}"]),Z=function(){var e=(0,u.I0)(),n=(0,u.v9)(function(e){return e.user}),i=n.me,t=n.logOutLoading,s=(0,r.useCallback)(function(){e((0,f.vR)())},[]);return(0,v.jsxs)(m.Z,{actions:[(0,v.jsx)("div",{children:(0,v.jsx)(a(),{href:"/user/".concat(i.id),legacyBehavior:!0,children:(0,v.jsxs)("a",{children:["짹짹",(0,v.jsx)("br",{}),i.Posts.length]})})},"twit"),(0,v.jsx)("div",{children:(0,v.jsx)(a(),{href:"/profile",legacyBehavior:!0,children:(0,v.jsxs)("a",{children:["팔로잉",(0,v.jsx)("br",{}),i.Followings.length]})})},"followings"),(0,v.jsx)("div",{children:(0,v.jsx)(a(),{href:"/profile",legacyBehavior:!0,children:(0,v.jsxs)("a",{children:["팔로워",(0,v.jsx)("br",{}),i.Followers.length]})})},"followers")],children:[(0,v.jsx)(m.Z.Meta,{avatar:(0,v.jsx)(a(),{href:"/user/".concat(i.id),legacyBehavior:!0,children:(0,v.jsx)("a",{children:(0,v.jsx)(j.C,{children:i.nickname[0]})})}),title:i.nickname}),(0,v.jsx)(y,{onClick:s,loading:t,children:"로그아웃"})]})},k=i(4538),C=i(2485),b=h.ZP.div.withConfig({displayName:"LoginForm__ButtonWrapper",componentId:"sc-k4bay5-0"})(["margin-top:10px;"]),w=(0,h.ZP)(k.Z).withConfig({displayName:"LoginForm__FormWrapper",componentId:"sc-k4bay5-1"})(["&&&{padding:10px;}"]),I=function(){var e=(0,u.I0)(),n=(0,u.v9)(function(e){return e.user}),i=n.logInLoading,s=n.logInError,l=(0,C.Z)(""),c=(0,t.Z)(l,2),d=c[0],h=c[1],x=(0,C.Z)(""),p=(0,t.Z)(x,2),m=p[0],j=p[1];(0,r.useEffect)(function(){s&&alert(s)},[s]);var y=(0,r.useCallback)(function(){e((0,f.tP)({email:d,password:m}))},[d,m]);return(0,v.jsxs)(w,{onFinish:y,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"user-email",children:"이메일"}),(0,v.jsx)(o.Z,{name:"user-email",value:d,onChange:h,required:!0,type:"email"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"user-password",required:!0,children:"비밀번호"}),(0,v.jsx)(o.Z,{name:"user-password",value:m,onChange:j,type:"password"})]}),(0,v.jsxs)(b,{children:[(0,v.jsx)(g.Z,{type:"primary",htmlType:"submit",loading:i,children:"로그인"}),(0,v.jsx)(a(),{href:"/signup",legacyBehavior:!0,children:(0,v.jsx)("a",{children:(0,v.jsx)(g.Z,{children:"회원가입"})})})]})]})},_=(0,h.ZP)(o.Z.Search).withConfig({displayName:"AppLayout__SearchInput",componentId:"sc-1x6xxdo-0"})(["&&&{vertical-align:middle;}"]),U=(0,h.vJ)([".ant-row{margin-right:0 !important;margin-left:0 !important;}.ant-col:first-child{padding-left:0 !important;}.ant-col:last-child{padding-right:0 !important;}"]),B=function(e){var n=e.children,i=(0,C.Z)(""),s=(0,t.Z)(i,2),o=s[0],h=s[1],x=(0,u.v9)(function(e){return e.user}).me,g=(0,r.useCallback)(function(){p().push("/hashtag/".concat(o))},[o]),m=[{label:(0,v.jsx)(a(),{href:"/",legacyBehavior:!0,children:(0,v.jsx)("a",{children:"노드버드"})}),key:"/"},{label:x&&(0,v.jsx)(a(),{href:"/profile",legacyBehavior:!0,children:(0,v.jsx)("a",{children:"프로필"})}),key:"/profile"},{label:(0,v.jsx)(_,{enterButton:!0,value:o,onChange:h,onSearch:g}),key:"/search"}];return(0,v.jsxs)("div",{children:[(0,v.jsx)(U,{}),(0,v.jsx)(l.Z,{mode:"horizontal",items:m}),(0,v.jsxs)(c.Z,{gutter:8,children:[(0,v.jsx)(d.Z,{xs:24,md:6,children:x?(0,v.jsx)(Z,{}):(0,v.jsx)(I,{})}),(0,v.jsx)(d.Z,{xs:24,md:12,children:n}),(0,v.jsx)(d.Z,{xs:24,md:6,children:(0,v.jsx)("a",{href:"https://www.zerocho.com",target:"_blank",rel:"noreferrer noopener",children:"Made by ZeroCho"})})]})]})}},8110:function(e,n,i){i.d(n,{Z:function(){return O}});var t=i(7294),r=i(2925),s=i(808),a=i(1889),o=i(4093),l=i(2506),c=i(7431),d=i(5843),h=i(7213),u=i(9647),x=i(8545),p=i(3471),g=i(9473),m=i(1664),j=i.n(m),f=i(381),v=i.n(f),y=i(1042),Z=i(6066),k=i(9521),C=i(8508),b=k.ZP.div.withConfig({displayName:"styles__Overlay",componentId:"sc-r2o2ee-0"})(["position:fixed;z-index:5000;top:0;left:0;right:0;bottom:0;"]),w=k.ZP.header.withConfig({displayName:"styles__Header",componentId:"sc-r2o2ee-1"})(["height:44px;background:white;position:relative;padding:0;text-align:center;& h1{margin:0;font-size:17px;color:#333;line-height:44px;}"]),I=(0,k.ZP)(C.Z).withConfig({displayName:"styles__CloseBtn",componentId:"sc-r2o2ee-2"})(["position:absolute;right:0;top:0;padding:15px;line-height:14px;cursor:pointer;"]),_=k.ZP.div.withConfig({displayName:"styles__SlickWrapper",componentId:"sc-r2o2ee-3"})(["height:calc(100% - 44px);background:#090909;"]),U=k.ZP.div.withConfig({displayName:"styles__ImgWrapper",componentId:"sc-r2o2ee-4"})(["padding:32px;text-align:center;& img{margin:0 auto;max-height:750px;}"]),B=k.ZP.div.withConfig({displayName:"styles__Indicator",componentId:"sc-r2o2ee-5"})(["text-align:center;& > div{width:75px;height:30px;line-height:30px;border-radius:15px;background:#313131;display:inline-block;text-align:center;color:white;font-size:15px;}"]),P=(0,k.vJ)([".slick-slide{display:inline-block;}.ant-card-cover{transform:none !important;}"]),F=i(5893),N=function(e){var n=e.images,i=e.onClose,r=(0,t.useState)(0),s=r[0],a=r[1];return(0,F.jsxs)(b,{children:[(0,F.jsx)(P,{}),(0,F.jsxs)(w,{children:[(0,F.jsx)("h1",{children:"상세 이미지"}),(0,F.jsx)(I,{onClick:i,children:"X"})]}),(0,F.jsx)(_,{children:(0,F.jsxs)("div",{children:[(0,F.jsx)(Z.Z,{initialSlide:0,afterChange:function(e){return a(e)},infinite:!0,arrows:!1,slidesToShow:1,slidesToScroll:1,children:n.map(function(e){return(0,F.jsx)(U,{children:(0,F.jsx)("img",{src:"".concat(e.src.replace(/\/thumb\//,"/original/")),alt:"".concat(e.src)})},"".concat(e.src))})}),(0,F.jsx)(B,{children:(0,F.jsxs)("div",{children:[s+1," / ",n.length]})})]})})]})},L=function(e){var n=e.images,i=(0,t.useState)(!1),r=i[0],s=i[1],a=(0,t.useCallback)(function(){s(!0)},[]),o=(0,t.useCallback)(function(){s(!1)},[]);return 1===n.length?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("img",{role:"presentation",src:"".concat(n[0].src.replace(/\/thumb\//,"/original/")),alt:"".concat(n[0].src),onClick:a}),r&&(0,F.jsx)(N,{images:n,onClose:o})]}):2===n.length?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("img",{role:"presentation",style:{width:"50%",display:"inline-block"},src:"".concat(n[0].src.replace(/\/thumb\//,"/original/")),alt:"".concat(n[0].src),onClick:a}),(0,F.jsx)("img",{role:"presentation",style:{width:"50%",display:"inline-block"},src:"".concat(n[1].src.replace(/\/thumb\//,"/original/")),alt:"".concat(n[1].src),onClick:a}),r&&(0,F.jsx)(N,{images:n,onClose:o})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{children:[(0,F.jsx)("img",{role:"presentation",style:{width:"50%",display:"inline-block"},src:"".concat(n[0].src.replace(/\/thumb\//,"/original/")),alt:"".concat(n[0].src),onClick:a}),(0,F.jsxs)("div",{role:"presentation",style:{display:"inline-block",width:"50%",textAlign:"center",verticalAlign:"middle"},onClick:a,children:[(0,F.jsx)(y.Z,{}),(0,F.jsx)("br",{}),n.length-1,"개의 사진 더보기"]})]}),r&&(0,F.jsx)(N,{images:n,onClose:o})]})},S=i(2640),R=i(4538),D=i(9673),M=i(5697),Y=i.n(M),z=i(2485),T=i(1586),A=function(e){var n=e.post,i=(0,g.I0)(),r=(0,g.v9)(function(e){var n;return null===(n=e.user.me)||void 0===n?void 0:n.id}),s=(0,g.v9)(function(e){return e.post}),o=s.addCommentDone,l=s.addCommentLoading,c=(0,z.Z)(""),d=(0,S.Z)(c,3),h=d[0],u=d[1],x=d[2];(0,t.useEffect)(function(){o&&x("")},[o]);var p=(0,t.useCallback)(function(){console.log(r),r?i({type:T.Ot,data:{content:h,postId:n.id,userId:r}}):alert("로그인 먼저 해라.")},[r,h]);return(0,F.jsx)(R.Z,{onFinish:p,children:(0,F.jsxs)(R.Z.Item,{style:{position:"relative",margin:0},children:[(0,F.jsx)(D.Z.TextArea,{value:h,onChange:u,rows:4}),(0,F.jsx)(a.Z,{style:{position:"absolute",right:0,bottom:-40,zIndex:1},type:"primary",htmlType:"submit",loading:l,children:"삐약"})]})})};A.Proptypes={post:Y().object.isRequired};var E=function(e){var n=e.postData;return(0,F.jsx)("div",{children:n.split(/(#[^\s#]+)/g).map(function(e,n){return e.match(/(#[^\s#]+)/)?(0,F.jsx)(j(),{href:"/hashtag/".concat(e.slice(1)),legacyBehavior:!0,prefetch:!1,children:(0,F.jsx)("a",{children:e})},n):e})})},W=i(3317),q=function(e){var n=e.post,i=(0,g.I0)(),r=(0,g.v9)(function(e){return e.user}),s=r.me,o=r.followLoading,l=r.unfollowLoading,c=r.followLoadingId,d=n.User.id===c,h=null==s?void 0:s.Followings.find(function(e){return e.id===n.User.id}),u=(0,t.useCallback)(function(){h?i({type:W.Bk,data:n.User.id}):i({type:W.U_,data:n.User.id})},[h]);return n.User.id===s.id?null:(0,F.jsx)(a.Z,{loading:d&&(o||l),onClick:u,children:h?"언팔로우":"팔로우"})};v().locale("ko");var O=function(e){var n=e.post,i=(0,g.I0)(),m=(0,t.useState)(!1),f=m[0],y=m[1],Z=(0,g.v9)(function(e){var n;return null===(n=e.user.me)||void 0===n?void 0:n.id}),k=(0,g.v9)(function(e){return e.post}).removePostLoading,C=n.Likers.find(function(e){return e.id===Z}),b=(0,t.useCallback)(function(){if(!Z)return alert("로그인이 필요합니다.");i({type:T.xD,data:n.id})},[Z]),w=(0,t.useCallback)(function(){if(!Z)return alert("로그인이 필요합니다.");i({type:T.VT,data:n.id})},[Z]),I=(0,t.useCallback)(function(){y(function(e){return!e})},[]),_=(0,t.useCallback)(function(){if(!Z)return alert("로그인이 필요합니다.");i({type:T.HU,data:n.id})},[Z]),U=(0,t.useCallback)(function(){if(!Z)return alert("로그인이 필요합니다.");i({type:T.a0,data:n.id})},[Z]);return(0,F.jsxs)("div",{style:{marginBottom:20},children:[(0,F.jsx)(r.Z,{cover:n.Images[0]&&(0,F.jsx)(L,{images:n.Images}),actions:[(0,F.jsx)(d.Z,{onClick:U},"retweet"),C?(0,F.jsx)(h.Z,{twoToneColor:"#eb2f96",onClick:w},"heart"):(0,F.jsx)(u.Z,{onClick:b},"heart"),(0,F.jsx)(x.Z,{onClick:I},"comment"),(0,F.jsx)(s.Z,{content:(0,F.jsx)(a.Z.Group,{children:Z&&n.User.id===Z?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(a.Z,{children:"수정"}),(0,F.jsx)(a.Z,{type:"danger",loading:k,onClick:_,children:"삭제"})]}):(0,F.jsx)(a.Z,{children:"신고"})}),children:(0,F.jsx)(p.Z,{})},"more")],title:n.RetweetId?"".concat(n.User.nickname,"님이 리트윗하셨습니다."):null,extra:Z&&(0,F.jsx)(q,{post:n}),children:n.RetweetId&&n.Retweet?(0,F.jsxs)(r.Z,{cover:n.Retweet.Images[0]&&(0,F.jsx)(L,{images:n.Retweet.Images}),children:[(0,F.jsx)("div",{style:{float:"right"},children:v()(n.createdAt,"YYYYMMDD").fromNow()}),(0,F.jsx)(r.Z.Meta,{avatar:(0,F.jsx)(j(),{href:"/user/".concat(n.Retweet.User.id),legacyBehavior:!0,prefetch:!1,children:(0,F.jsx)("a",{children:(0,F.jsx)(o.C,{children:n.Retweet.User.nickname[0]})})}),title:n.Retweet.User.nickname,description:(0,F.jsx)(E,{postData:n.Retweet.content})})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{style:{float:"right"},children:v()(n.createdAt,"YYYYMMDD").fromNow()}),(0,F.jsx)(r.Z.Meta,{avatar:(0,F.jsx)(j(),{href:"/user/".concat(n.User.id),legacyBehavior:!0,prefetch:!1,children:(0,F.jsx)("a",{children:(0,F.jsx)(o.C,{children:n.User.nickname[0]})})}),title:n.User.nickname,description:(0,F.jsx)(E,{postData:n.content})})]})}),f&&(0,F.jsxs)("div",{children:[(0,F.jsx)(A,{post:n}),(0,F.jsx)(l.ZP,{header:"".concat(n.Comments.length,"개의 댓글"),itemLayout:"horizontal",dataSource:n.Comments,renderItem:function(e){return(0,F.jsx)("li",{children:(0,F.jsx)(c.Z,{author:e.User.nickname,avatar:(0,F.jsx)(j(),{href:"/user/".concat(e.User.id),legacyBehavior:!0,prefetch:!1,children:(0,F.jsx)("a",{children:(0,F.jsx)(o.C,{children:e.User.nickname[0]})})}),content:e.content})})}})]})]})}},2485:function(e,n,i){var t=i(7294);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=(0,t.useState)(e),i=n[0],r=n[1];return[i,(0,t.useCallback)(function(e){r(e.target.value)},[]),r]}}}]);