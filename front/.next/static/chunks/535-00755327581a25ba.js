"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[535],{5900:function(e,n,t){t.d(n,{Z:function(){return U}});var i=t(2640),r=t(7294),a=t(1664),s=t.n(a),o=t(9673),l=t(8985),c=t(1230),d=t(7654),h=t(9521),u=t(9473),x=t(1163),p=t.n(x),g=t(1889),m=t(2925),j=t(4093),f=t(3317),v=t(5893),C=(0,h.ZP)(g.Z).withConfig({displayName:"UserProfile__ButtonWrapper",componentId:"sc-b71tg5-0"})(["&&&{margin-left:47px;}"]),y=function(){var e=(0,u.I0)(),n=(0,u.v9)(function(e){return e.user}),t=n.me,i=n.logOutLoading,a=(0,r.useCallback)(function(){e((0,f.vR)())},[]);return(0,v.jsxs)(m.Z,{actions:[(0,v.jsx)("div",{children:(0,v.jsx)(s(),{href:"/user/".concat(t.id),legacyBehavior:!0,children:(0,v.jsxs)("a",{children:["짹짹",(0,v.jsx)("br",{}),t.Posts.length]})})},"twit"),(0,v.jsx)("div",{children:(0,v.jsx)(s(),{href:"/profile",legacyBehavior:!0,children:(0,v.jsxs)("a",{children:["팔로잉",(0,v.jsx)("br",{}),t.Followings.length]})})},"followings"),(0,v.jsx)("div",{children:(0,v.jsx)(s(),{href:"/profile",legacyBehavior:!0,children:(0,v.jsxs)("a",{children:["팔로워",(0,v.jsx)("br",{}),t.Followers.length]})})},"followers")],children:[(0,v.jsx)(m.Z.Meta,{avatar:(0,v.jsx)(s(),{href:"/user/".concat(t.id),legacyBehavior:!0,prefetch:!1,children:(0,v.jsx)("a",{children:(0,v.jsx)(j.C,{children:t.nickname[0]})})}),title:t.nickname}),(0,v.jsx)(C,{onClick:a,loading:i,children:"로그아웃"})]})},k=t(4538),Z=t(2485),b=h.ZP.div.withConfig({displayName:"LoginForm__ButtonWrapper",componentId:"sc-k4bay5-0"})(["margin-top:10px;"]),w=(0,h.ZP)(k.Z).withConfig({displayName:"LoginForm__FormWrapper",componentId:"sc-k4bay5-1"})(["&&&{padding:10px;}"]),I=function(){var e=(0,u.I0)(),n=(0,u.v9)(function(e){return e.user}),t=n.logInLoading,a=n.logInError,l=(0,Z.Z)(""),c=(0,i.Z)(l,2),d=c[0],h=c[1],x=(0,Z.Z)(""),p=(0,i.Z)(x,2),m=p[0],j=p[1];(0,r.useEffect)(function(){a&&alert(a)},[a]);var C=(0,r.useCallback)(function(){e((0,f.tP)({email:d,password:m}))},[d,m]);return(0,v.jsxs)(w,{onFinish:C,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"user-email",children:"이메일"}),(0,v.jsx)(o.Z,{name:"user-email",value:d,onChange:h,required:!0,type:"email"})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("label",{htmlFor:"user-password",required:!0,children:"비밀번호"}),(0,v.jsx)(o.Z,{name:"user-password",value:m,onChange:j,type:"password"})]}),(0,v.jsxs)(b,{children:[(0,v.jsx)(g.Z,{type:"primary",htmlType:"submit",loading:t,children:"로그인"}),(0,v.jsx)(s(),{href:"/signup",legacyBehavior:!0,children:(0,v.jsx)("a",{children:(0,v.jsx)(g.Z,{children:"회원가입"})})})]})]})},_=(0,h.ZP)(o.Z.Search).withConfig({displayName:"AppLayout__SearchInput",componentId:"sc-1x6xxdo-0"})(["&&&{vertical-align:middle;}"]),P=(0,h.vJ)([".ant-row{margin-right:0 !important;margin-left:0 !important;}.ant-col:first-child{padding-left:0 !important;}.ant-col:last-child{padding-right:0 !important;}"]),U=function(e){var n=e.children,t=(0,Z.Z)(""),a=(0,i.Z)(t,2),o=a[0],h=a[1],x=(0,u.v9)(function(e){return e.user}).me,g=(0,r.useCallback)(function(){p().push("/hashtag/".concat(o))},[o]),m=[{label:(0,v.jsx)(s(),{href:"/",legacyBehavior:!0,children:(0,v.jsx)("a",{children:"노드버드"})}),key:"/"},{label:x&&(0,v.jsx)(s(),{href:"/profile",legacyBehavior:!0,children:(0,v.jsx)("a",{children:"프로필"})}),key:"/profile"},{label:(0,v.jsx)(_,{enterButton:!0,value:o,onChange:h,onSearch:g}),key:"/search"}];return(0,v.jsxs)("div",{children:[(0,v.jsx)(P,{}),(0,v.jsx)(l.Z,{mode:"horizontal",items:m}),(0,v.jsxs)(c.Z,{gutter:8,children:[(0,v.jsx)(d.Z,{xs:24,md:6,children:x?(0,v.jsx)(y,{}):(0,v.jsx)(I,{})}),(0,v.jsx)(d.Z,{xs:24,md:12,children:n}),(0,v.jsx)(d.Z,{xs:24,md:6,children:(0,v.jsx)("a",{href:"https://www.zerocho.com",target:"_blank",rel:"noreferrer noopener",children:"Made by ZeroCho"})})]})]})}},8110:function(e,n,t){t.d(n,{Z:function(){return G}});var i=t(7294),r=t(2925),a=t(808),s=t(1889),o=t(4093),l=t(2506),c=t(7431),d=t(5843),h=t(7213),u=t(9647),x=t(8545),p=t(3471),g=t(9473),m=t(1664),j=t.n(m),f=t(381),v=t.n(f),C=t(1042),y=t(6066),k=t(9521),Z=t(8508),b=k.ZP.div.withConfig({displayName:"styles__Overlay",componentId:"sc-r2o2ee-0"})(["position:fixed;z-index:5000;top:0;left:0;right:0;bottom:0;"]),w=k.ZP.header.withConfig({displayName:"styles__Header",componentId:"sc-r2o2ee-1"})(["height:44px;background:white;position:relative;padding:0;text-align:center;& h1{margin:0;font-size:17px;color:#333;line-height:44px;}"]),I=(0,k.ZP)(Z.Z).withConfig({displayName:"styles__CloseBtn",componentId:"sc-r2o2ee-2"})(["position:absolute;right:0;top:0;padding:15px;line-height:14px;cursor:pointer;"]),_=k.ZP.div.withConfig({displayName:"styles__SlickWrapper",componentId:"sc-r2o2ee-3"})(["height:calc(100% - 44px);background:#090909;"]),P=k.ZP.div.withConfig({displayName:"styles__ImgWrapper",componentId:"sc-r2o2ee-4"})(["padding:32px;text-align:center;& img{margin:0 auto;max-height:750px;}"]),U=k.ZP.div.withConfig({displayName:"styles__Indicator",componentId:"sc-r2o2ee-5"})(["text-align:center;& > div{width:75px;height:30px;line-height:30px;border-radius:15px;background:#313131;display:inline-block;text-align:center;color:white;font-size:15px;}"]),B=(0,k.vJ)([".slick-slide{display:inline-block;}.ant-card-cover{transform:none !important;}"]),F=t(5893),S=function(e){var n=e.images,t=e.onClose,r=(0,i.useState)(0),a=r[0],s=r[1];return(0,F.jsxs)(b,{children:[(0,F.jsx)(B,{}),(0,F.jsxs)(w,{children:[(0,F.jsx)("h1",{children:"상세 이미지"}),(0,F.jsx)(I,{onClick:t,children:"X"})]}),(0,F.jsx)(_,{children:(0,F.jsxs)("div",{children:[(0,F.jsx)(y.Z,{initialSlide:0,afterChange:function(e){return s(e)},infinite:!0,arrows:!1,slidesToShow:1,slidesToScroll:1,children:n.map(function(e){return(0,F.jsx)(P,{children:(0,F.jsx)("img",{src:"".concat(e.src.replace(/\/thumb\//,"/original/")),alt:"".concat(e.src)})},"".concat(e.src))})}),(0,F.jsx)(U,{children:(0,F.jsxs)("div",{children:[a+1," / ",n.length]})})]})})]})},L=function(e){var n=e.images,t=(0,i.useState)(!1),r=t[0],a=t[1],s=(0,i.useCallback)(function(){a(!0)},[]),o=(0,i.useCallback)(function(){a(!1)},[]);return 1===n.length?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("img",{role:"presentation",src:"".concat(n[0].src.replace(/\/thumb\//,"/original/")),alt:"".concat(n[0].src),onClick:s}),r&&(0,F.jsx)(S,{images:n,onClose:o})]}):2===n.length?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("img",{role:"presentation",style:{width:"50%",display:"inline-block"},src:"".concat(n[0].src.replace(/\/thumb\//,"/original/")),alt:"".concat(n[0].src),onClick:s}),(0,F.jsx)("img",{role:"presentation",style:{width:"50%",display:"inline-block"},src:"".concat(n[1].src.replace(/\/thumb\//,"/original/")),alt:"".concat(n[1].src),onClick:s}),r&&(0,F.jsx)(S,{images:n,onClose:o})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("div",{children:[(0,F.jsx)("img",{role:"presentation",style:{width:"50%",display:"inline-block"},src:"".concat(n[0].src.replace(/\/thumb\//,"/original/")),alt:"".concat(n[0].src),onClick:s}),(0,F.jsxs)("div",{role:"presentation",style:{display:"inline-block",width:"50%",textAlign:"center",verticalAlign:"middle"},onClick:s,children:[(0,F.jsx)(C.Z,{}),(0,F.jsx)("br",{}),n.length-1,"개의 사진 더보기"]})]}),r&&(0,F.jsx)(S,{images:n,onClose:o})]})},N=t(2640),R=t(4538),M=t(9673),D=t(5697),T=t.n(D),Y=t(2485),z=t(1586),A=function(e){var n=e.post,t=(0,g.I0)(),r=(0,g.v9)(function(e){var n;return null===(n=e.user.me)||void 0===n?void 0:n.id}),a=(0,g.v9)(function(e){return e.post}),o=a.addCommentDone,l=a.addCommentLoading,c=(0,Y.Z)(""),d=(0,N.Z)(c,3),h=d[0],u=d[1],x=d[2];(0,i.useEffect)(function(){o&&x("")},[o]);var p=(0,i.useCallback)(function(){console.log(r),r?t({type:z.Ot,data:{content:h,postId:n.id,userId:r}}):alert("로그인 먼저 해라.")},[r,h]);return(0,F.jsx)(R.Z,{onFinish:p,children:(0,F.jsxs)(R.Z.Item,{style:{position:"relative",margin:0},children:[(0,F.jsx)(M.Z.TextArea,{value:h,onChange:u,rows:4}),(0,F.jsx)(s.Z,{style:{position:"absolute",right:0,bottom:-40,zIndex:1},type:"primary",htmlType:"submit",loading:l,children:"삐약"})]})})};A.Proptypes={post:T().object.isRequired};var E=M.Z.TextArea,W=function(e){var n=e.postData,t=e.editMode,r=e.onChangePost,a=e.onCancelUpdate,o=(0,g.v9)(function(e){return e.post}),l=o.updatePostLoading,c=o.updatePostDone,d=(0,i.useState)(n),h=d[0],u=d[1];(0,i.useEffect)(function(){c&&a()},[c]);var x=(0,i.useCallback)(function(e){u(e.target.value)});return(0,F.jsx)("div",{children:t?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(E,{value:h,onChange:x}),(0,F.jsxs)(s.Z.Group,{children:[(0,F.jsx)(s.Z,{loading:l,onClick:r(h),children:"수정"}),(0,F.jsx)(s.Z,{type:"danger",onClick:a,children:"취소"})]})]}):n.split(/(#[^\s#]+)/g).map(function(e,n){return e.match(/(#[^\s#]+)/)?(0,F.jsx)(j(),{href:"/hashtag/".concat(e.slice(1)),legacyBehavior:!0,prefetch:!1,children:(0,F.jsx)("a",{children:e})},n):e})})};W.defaultProps={editMode:!1};var q=t(3317),O=function(e){var n=e.post,t=(0,g.I0)(),r=(0,g.v9)(function(e){return e.user}),a=r.me,o=r.followLoading,l=r.unfollowLoading,c=r.followLoadingId,d=n.User.id===c,h=null==a?void 0:a.Followings.find(function(e){return e.id===n.User.id}),u=(0,i.useCallback)(function(){h?t({type:q.Bk,data:n.User.id}):t({type:q.U_,data:n.User.id})},[h]);return n.User.id===a.id?null:(0,F.jsx)(s.Z,{loading:d&&(o||l),onClick:u,children:h?"언팔로우":"팔로우"})};v().locale("ko");var G=function(e){var n=e.post,t=(0,g.I0)(),m=(0,i.useState)(!1),f=m[0],C=m[1],y=(0,g.v9)(function(e){var n;return null===(n=e.user.me)||void 0===n?void 0:n.id}),k=(0,g.v9)(function(e){return e.post}).removePostLoading,Z=n.Likers.find(function(e){return e.id===y}),b=(0,i.useState)(!1),w=b[0],I=b[1],_=(0,i.useCallback)(function(){I(!0)},[]),P=(0,i.useCallback)(function(){I(!1)},[]),U=(0,i.useCallback)(function(e){return function(){t({type:z.wC,data:{PostId:n.id,content:e}})}},[n]),B=(0,i.useCallback)(function(){if(!y)return alert("로그인이 필요합니다.");t({type:z.xD,data:n.id})},[y]),S=(0,i.useCallback)(function(){if(!y)return alert("로그인이 필요합니다.");t({type:z.VT,data:n.id})},[y]),N=(0,i.useCallback)(function(){C(function(e){return!e})},[]),R=(0,i.useCallback)(function(){if(!y)return alert("로그인이 필요합니다.");t({type:z.HU,data:n.id})},[y]),M=(0,i.useCallback)(function(){if(!y)return alert("로그인이 필요합니다.");t({type:z.a0,data:n.id})},[y]);return(0,F.jsxs)("div",{style:{marginBottom:20},children:[(0,F.jsx)(r.Z,{cover:n.Images[0]&&(0,F.jsx)(L,{images:n.Images}),actions:[(0,F.jsx)(d.Z,{onClick:M},"retweet"),Z?(0,F.jsx)(h.Z,{twoToneColor:"#eb2f96",onClick:S},"heart"):(0,F.jsx)(u.Z,{onClick:B},"heart"),(0,F.jsx)(x.Z,{onClick:N},"comment"),(0,F.jsx)(a.Z,{content:(0,F.jsx)(s.Z.Group,{children:y&&n.User.id===y?(0,F.jsxs)(F.Fragment,{children:[!n.RetweetId&&(0,F.jsx)(s.Z,{onClick:_,children:"수정"}),(0,F.jsx)(s.Z,{type:"danger",loading:k,onClick:R,children:"삭제"})]}):(0,F.jsx)(s.Z,{children:"신고"})}),children:(0,F.jsx)(p.Z,{})},"more")],title:n.RetweetId?"".concat(n.User.nickname,"님이 리트윗하셨습니다."):null,extra:y&&(0,F.jsx)(O,{post:n}),children:n.RetweetId&&n.Retweet?(0,F.jsxs)(r.Z,{cover:n.Retweet.Images[0]&&(0,F.jsx)(L,{images:n.Retweet.Images}),children:[(0,F.jsx)("div",{style:{float:"right"},children:v()(n.createdAt).format("YYYY.MM.DD")}),(0,F.jsx)(r.Z.Meta,{avatar:(0,F.jsx)(j(),{href:"/user/".concat(n.Retweet.User.id),legacyBehavior:!0,prefetch:!1,children:(0,F.jsx)("a",{children:(0,F.jsx)(o.C,{children:n.Retweet.User.nickname[0]})})}),title:n.Retweet.User.nickname,description:(0,F.jsx)(W,{onCancelUpdate:P,onChangePost:U,postData:n.Retweet.content})})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{style:{float:"right"},children:v()(n.createdAt).format("YYYY.MM.DD")}),(0,F.jsx)(r.Z.Meta,{avatar:(0,F.jsx)(j(),{href:"/user/".concat(n.User.id),legacyBehavior:!0,prefetch:!1,children:(0,F.jsx)("a",{children:(0,F.jsx)(o.C,{children:n.User.nickname[0]})})}),title:n.User.nickname,description:(0,F.jsx)(W,{editMode:w,onCancelUpdate:P,onChangePost:U,postData:n.content})})]})}),f&&(0,F.jsxs)("div",{children:[(0,F.jsx)(A,{post:n}),(0,F.jsx)(l.ZP,{header:"".concat(n.Comments.length,"개의 댓글"),itemLayout:"horizontal",dataSource:n.Comments,renderItem:function(e){return(0,F.jsx)("li",{children:(0,F.jsx)(c.Z,{author:e.User.nickname,avatar:(0,F.jsx)(j(),{href:"/user/".concat(e.User.id),legacyBehavior:!0,prefetch:!1,children:(0,F.jsx)("a",{children:(0,F.jsx)(o.C,{children:e.User.nickname[0]})})}),content:e.content})})}})]})]})}},2485:function(e,n,t){var i=t(7294);n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=(0,i.useState)(e),t=n[0],r=n[1];return[t,(0,i.useCallback)(function(e){r(e.target.value)},[]),r]}}}]);